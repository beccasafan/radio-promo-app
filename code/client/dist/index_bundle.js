!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e){t.exports=React},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(9),i=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n}return r(e,t),e.prototype.componentDidMount=function(){var t=this;this.$el=a(this.el),this.$el.select2(this.props),Object.keys(this.props.events).forEach(function(e){return a(t.el).on(e,function(n){t.props.events[e](n)})})},e.prototype.componentWillUnmount=function(){this.$el.select2("destroy")},e.prototype.render=function(){var t=this;return s.createElement("div",null,s.createElement("select",{className:"select2",ref:function(e){return t.el=e}}))},e}(s.Component);e.Select2=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.isEmpty=function(t){return[Object,Array].includes((t||{}).constructor)&&!Object.entries(t||{}).length},t.createJSONOutput=function(t){return HtmlService.createHtmlOutput("<pre>"+JSON.stringify(t,null,4)+"</pre>")},t.groupBy=function(t,e){return t.reduce(function(t,n){var o=n[e].toString(),r=t[o]||[];return r.push(n),t[o]=r,t},{})},t}();e.Util=o},function(t,e,n){t.exports={station:"station","card-footer":"card-footer",cardFooter:"card-footer","card-body":"card-body",cardBody:"card-body","card-text":"card-text",cardText:"card-text","card-grow":"card-grow",cardGrow:"card-grow",talent:"talent"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=n(5),s=n(6);r.render(o.createElement(s.App,null),document.getElementById("root"))},function(t,e){t.exports=ReactDOM},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(7),i=n(8),c=n(12),l=n(17),p=n(18),u=function(t){function e(e){var n=t.call(this,e)||this;return n.state={countries:null,selectedCountry:null,stations:null,selectedStation:null,selectedStationDetails:null,search:null},n.countrySelected=n.countrySelected.bind(n),n.stationSelected=n.stationSelected.bind(n),n.stationUnselected=n.stationUnselected.bind(n),n}return r(e,t),e.prototype.componentDidMount=function(){var t=this;google.script.run.withSuccessHandler(function(e){t.setState({countries:e}),t.countrySelected(e.find(function(t){return"US"===t.code}))}).getCountrySummaries()},e.prototype.countrySelected=function(t){var e=this;this.setState({selectedCountry:t}),google.script.run.withSuccessHandler(function(t){e.setState({stations:t})}).getStationsByCountry(t.id),google.script.run.withSuccessHandler(function(t){e.setState({search:t})}).getSearchOptions(t.id)},e.prototype.stationSelected=function(t){var e=this;this.setState({selectedStation:t}),google.script.run.withSuccessHandler(function(t){e.setState({selectedStationDetails:t})}).getStation(t.code)},e.prototype.stationUnselected=function(t){this.setState({selectedStation:null,selectedStationDetails:null})},e.prototype.render=function(){return s.createElement("div",{className:l.app},s.createElement(a.Intro,null),null!=this.state.countries&&s.createElement("div",null,s.createElement(i.CountryDropdown,{countries:this.state.countries,onChange:this.countrySelected,defaultCountry:"US"})),this.state.selectedCountry&&s.createElement(c.Stations,{stations:this.state.stations,search:this.state.search,onSelect:this.stationSelected}),this.state.selectedStation&&s.createElement(p.Detail,{station:this.state.selectedStation,detail:this.state.selectedStationDetails,handleClose:this.stationUnselected}))},e}(s.Component);e.App=u},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n}return r(e,t),e.prototype.render=function(){return s.createElement("div",{className:"jumbotron"},s.createElement("h1",{className:"display-4"},"Radio Promo App"),s.createElement("p",{className:"lead"},"Explain things here..."),s.createElement("hr",{className:"my-4"}),s.createElement("p",null,"Maybe some more text here/"))},e}(s.Component);e.Intro=a},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(1),i=n(10),c=n(11),l=function(t){function e(e){var n=t.call(this,e)||this;return n.state={selectedCountry:null},n.countrySelected=n.countrySelected.bind(n),n}return r(e,t),e.prototype.formatCountry=function(t){if(!t.id)return t.text;var e=t.code.toLowerCase();return"uk"===e&&(e="gb"),$(i.renderToStaticMarkup(s.createElement("span",{key:t.id,className:c.countrySelector},s.createElement("img",{className:"mr-3",src:"http://files.stevenskelton.ca/flag-icon/flag-icon/svg/country-4x3/"+e+".svg",alt:"Card image cap"}),s.createElement("span",null,t.name," - ",t.stations," stations"))))},e.prototype.formatCountrySelection=function(t){if(!t.id)return t.text;var e=t.code.toLowerCase();return"uk"===e&&(e="gb"),$(i.renderToStaticMarkup(s.createElement("span",{key:t.id,className:c.countrySelector},s.createElement("img",{className:"mr-3",src:"http://files.stevenskelton.ca/flag-icon/flag-icon/svg/country-4x3/"+e+".svg",alt:"Card image cap"}),s.createElement("span",null,t.name))))},e.prototype.countrySelected=function(t){var e=t.params.data;this.props.onChange(e)},e.prototype.render=function(){var t=this,e={"select2:select":this.countrySelected};return this.props.countries.find(function(e){return e.id===t.props.defaultCountry}).selected=!0,s.createElement(a.Select2,{width:"100%",data:this.props.countries,templateResult:this.formatCountry,templateSelection:this.formatCountrySelection,events:e,containerCssClass:"country-dropdown-select2"})},e}(s.Component);e.CountryDropdown=l},function(t,e){t.exports=jQuery},function(t,e){t.exports=ReactDOMServer},function(t,e,n){t.exports={"card-img-overlay":"card-img-overlay",cardImgOverlay:"card-img-overlay","country-selector":"country-selector",countrySelector:"country-selector","select2-container":"select2-container",select2Container:"select2-container","country-dropdown-select2":"country-dropdown-select2",countryDropdownSelect2:"country-dropdown-select2"}},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(13),i=n(14),c=function(t){function e(e){var n=t.call(this,e)||this;return n.state={selectedFormat:null,visibleStations:null},n.onSearch=n.onSearch.bind(n),n}return r(e,t),e.prototype.onSearch=function(t){this.setState(t),this.setState({visibleStations:this.filter()})},e.prototype.filter=function(){var t=this,e=this.props.stations.filter(function(e){return n=e,null==(o=t.state.selectedFormat)||o===t.props.search.formats.find(function(t){return t.id===n.formatId}).code;var n,o});return console.log(new Date,"finishing filter"),e},e.prototype.render=function(){return null==this.props.stations?s.createElement("div",null,"Loading..."):s.createElement("div",null,s.createElement(a.Search,{options:this.props.search,onSearch:this.onSearch}),s.createElement("div",{className:"row"},s.createElement(i.FilteredList,{stations:this.state.visibleStations||this.props.stations,onSelect:this.props.onSelect,onSearch:this.onSearch})))},e}(s.Component);e.Stations=c},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(1),i=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n.onFormatChange=n.onFormatChange.bind(n),n}return r(e,t),e.prototype.onFormatChange=function(t){this.props.onSearch({selectedFormat:t.params.data.id})},e.prototype.render=function(){var t={"select2:select":this.onFormatChange};if(null==this.props.options)return s.createElement("div",null);var e=this.props.options.formats.reduce(function(t,e){return null==t.find(function(t){return t.id===e.code})&&t.push({id:e.code,text:e.name}),t},[]);return s.createElement("div",null,this.props.options.formats&&s.createElement(a.Select2,{width:"100%",data:[{id:"",text:""}].concat(e),events:t,placeholder:"Filter by format"}))},e}(s.Component);e.Search=i},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(15),i=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n}return r(e,t),e.prototype.getItems=function(){var t=this;return this.props.stations.map(function(e){return s.createElement(a.Summary,{key:e.id,station:e,onSelect:t.props.onSelect})})},e.prototype.render=function(){if(null==this.props.stations)return s.createElement("div",null,"Loading stations...");if(0==this.props.stations.length)return s.createElement("div",null,"No results...");console.log("filtered list render");var t=s.createElement("div",null,s.createElement("div",{className:"row"},this.getItems()));return console.log("filtered list done rendering"),t},e}(s.Component);e.FilteredList=i},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(2),i=n(3),c=n(16),l=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n.open=n.open.bind(n),n}return r(e,t),e.prototype.shouldComponentUpdate=function(t,e){var n=t.station!=this.props.station;return console.log(t.station.code,n),n},e.prototype.open=function(){this.props.onSelect(this.props.station)},e.prototype.render=function(){return a.Util.isEmpty(this.props)?s.createElement("div",null,"Loading station..."):(console.log("rendering",this.props.station.code),s.createElement("div",{className:c.default(i.station,"col-sm-12 col-md-6 col-lg-4 col-xl-3 py-3")},s.createElement("div",{className:"card h-100"},s.createElement("div",{className:"card-header",onClick:this.open},this.props.station.code),s.createElement("div",{className:"card-body"},s.createElement("h5",{className:"card-title",onClick:this.open},this.props.station.name),s.createElement("p",{className:"card-text"},this.props.station.location),s.createElement("div",{className:i.cardGrow},!a.Util.isEmpty(this.props.station.parentGroup)&&s.createElement("p",{className:"card-text"},this.props.station.parentGroup),this.props.station.talent>0&&s.createElement("p",{className:"card-text"},this.props.station.talent," talent"),this.props.station.syndicated>0&&s.createElement("p",{className:"card-text"},this.props.station.syndicated," syndicated talent"),!a.Util.isEmpty(this.props.station.note)&&s.createElement("p",{className:"card-text"},this.props.station.note)),s.createElement("a",{href:"javascript:;",onClick:this.open,className:"btn btn-outline-secondary btn-block"},"View")))))},e}(s.Component);e.Summary=l},function(t,e,n){var o;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var t=[],e=0;e<arguments.length;e++){var o=arguments[e];if(o){var s=typeof o;if("string"===s||"number"===s)t.push(o);else if(Array.isArray(o)&&o.length){var a=r.apply(null,o);a&&t.push(a)}else if("object"===s)for(var i in o)n.call(o,i)&&o[i]&&t.push(i)}}return t.join(" ")}t.exports?(r.default=r,t.exports=r):void 0===(o=function(){return r}.apply(e,[]))||(t.exports=o)}()},function(t,e,n){t.exports={app:"app"}},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(19),i=n(20),c=n(21),l=n(22),p=n(23),u=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n.handleClose=n.handleClose.bind(n),n}return r(e,t),e.prototype.handleClose=function(t){this.props.handleClose(t)},e.prototype.render=function(){return s.createElement(a.Modal,{contentKey:null!=this.props.station?this.props.station.id:null,handleClose:this.handleClose},s.createElement(i.ModalHeader,null,s.createElement("h5",{className:"modal-title",id:"station-detail-header"},this.props.station.name),s.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.createElement("span",{"aria-hidden":"true"},"×"))),s.createElement(c.ModalBody,null,this.props.detail&&this.props.detail.location&&s.createElement("p",null,this.props.detail.location),this.props.detail&&this.props.detail.parentGroup&&s.createElement("p",null,this.props.detail.parentGroup),this.props.detail&&this.props.detail.note&&s.createElement("p",null,this.props.detail.note),this.props.detail&&this.props.detail.website&&s.createElement("p",null,this.props.detail.website),this.props.detail&&this.props.detail.twitter&&s.createElement("p",null,this.props.detail.twitter),this.props.detail&&this.props.detail.instagram&&s.createElement("p",null,this.props.detail.instagram),this.props.detail&&this.props.detail.facebook&&s.createElement("p",null,this.props.detail.facebook),this.props.detail&&this.props.detail.email&&s.createElement("p",null,this.props.detail.email),this.props.detail&&this.props.detail.text&&s.createElement("p",null,this.props.detail.text),this.props.detail&&this.props.detail.phone&&s.createElement("p",null,this.props.detail.phone),this.props.detail&&this.props.detail.talent&&this.props.detail.talent.map(function(t){return s.createElement(p.Talent,{talent:t})}),this.props.detail&&this.props.detail.syndicatedTalent&&this.props.detail.syndicatedTalent.map(function(t){return s.createElement(p.Talent,{talent:t})}),null==this.props.detail&&s.createElement("p",null,"Loading...")),s.createElement(l.ModalFooter,null,s.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close")))},e}(s.Component);e.Detail=u},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.componentDidMount=function(){var t=this;this.$el=$(this.el),this.$el.modal({}),this.$el.on("hidden.bs.modal",function(e){return t.props.handleClose(e)})},e.prototype.componentWillUnmount=function(){this.$el.modal("dispose")},e.prototype.componentDidUpdate=function(t){console.log("modal",t,this.props),null!=this.props.contentKey?this.$el.modal("show"):this.$el.modal("hide")},e.prototype.render=function(){var t=this;return s.createElement("div",{ref:function(e){return t.el=e},className:"modal",tabIndex:-1,role:"dialog"},s.createElement("div",{className:"modal-dialog",role:"document"},s.createElement("div",{className:"modal-content"},this.props.children)))},e}(s.Component);e.Modal=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0);e.ModalHeader=function(t){return o.createElement("div",{className:"modal-header"},t.children)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0);e.ModalBody=function(t){return o.createElement("div",{className:"modal-body"},t.children)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0);e.ModalFooter=function(t){return o.createElement("div",{className:"modal-footer"},t.children)}},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(2),i=n(3),c=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n}return r(e,t),e.prototype.render=function(){return s.createElement("div",{className:i.talent},s.createElement("div",{className:"card"},s.createElement("div",{className:"card-body"},s.createElement("div",{className:"card-title"},this.props.talent.name),!a.Util.isEmpty(this.props.talent.note)&&s.createElement("p",{className:"card-text"},this.props.talent.note),s.createElement("div",{className:"row"},s.createElement("div",{className:"col"},this.props.talent.twitter&&s.createElement("a",{href:"https://twitter.com/"+this.props.talent.twitter,target:"_blank"},s.createElement("i",{className:"fab fa-twitter"}))),s.createElement("div",{className:"col"},this.props.talent.instagram&&s.createElement("a",{href:"https://instagram.com/"+this.props.talent.instagram,target:"_blank"},s.createElement("i",{className:"fab fa-instagram"}))),s.createElement("div",{className:"col"},this.props.talent.facebook&&s.createElement("a",{href:"https://facebook.com/"+this.props.talent.facebook,target:"_blank"},s.createElement("i",{className:"fab fa-facebook"}))),s.createElement("div",{className:"col"},this.props.talent.email&&s.createElement("a",{href:"mailto:"+this.props.talent.email,target:"_blank"},s.createElement("i",{className:"fas fa-envelope"})))))))},e}(s.Component);e.Talent=c}]);
//# sourceMappingURL=index_bundle.js.map